# Регламент безопасной сборки ПО

| | |
|---|---|
| **Продукт** | [ЗАПОЛНИТЬ: наименование СЗИ] |
| **Версия документа** | 1.0 |
| **Дата** | [ЗАПОЛНИТЬ: дата утверждения] |
| **Статус** | Проект |
| **Утверждено** | [ЗАПОЛНИТЬ: должность, ФИО руководителя] |
| **Процесс ГОСТ Р 56939-2024** | 5.12 — Использование безопасной системы сборки ПО |

---

## Содержание

1. [Общие сведения](#1-общие-сведения)
2. [Область применения](#2-область-применения)
3. [Описание сборочной среды](#3-описание-сборочной-среды)
4. [Инструменты сборки](#4-инструменты-сборки)
5. [Конфигурация сборки](#5-конфигурация-сборки)
6. [Воспроизводимость сборок](#6-воспроизводимость-сборок)
7. [Контроль целостности артефактов](#7-контроль-целостности-артефактов)
8. [Порядок обновления инструментов сборки](#8-порядок-обновления-инструментов-сборки)
9. [Реестр сборок](#9-реестр-сборок)
10. [История изменений](#10-история-изменений)

---

## 1. Общие сведения

### 1.1. Назначение документа

Настоящий Регламент определяет порядок:

- Документирования и фиксации сборочной среды продукта [ЗАПОЛНИТЬ: наименование СЗИ].
- Использования инструментов сборки в соответствии с рекомендациями вендоров.
- Обеспечения воспроизводимости сборок (deterministic/reproducible builds).
- Контроля целостности артефактов сборки (хеширование, подписание, верификация).
- Порядка обновления и валидации инструментов сборки.

Регламент разработан в соответствии с требованиями ГОСТ Р 56939-2024, п. 5.12 (использование безопасной системы сборки ПО) и п. 5.12.2, которые устанавливают необходимость:

- Зафиксировать информацию о сборочной среде.
- Следовать рекомендациям вендора инструментов сборки.
- Обеспечить воспроизводимость сборок.
- Контролировать целостность артефактов сборки.

### 1.2. Нормативные ссылки

| Документ | Описание |
|----------|----------|
| ГОСТ Р 56939-2024, п. 5.12 | Использование безопасной системы сборки ПО — основной процесс |
| ГОСТ Р 56939-2024, п. 5.12.2 | Требования к процессу безопасной сборки |
| ГОСТ Р 56939-2024, п. 5.13 | Обеспечение безопасности сборочной среды ПО — защита среды, в которой выполняется сборка |
| ГОСТ Р 56939-2024, п. 5.4 | Управление конфигурацией ПО — сборочная конфигурация как элемент конфигурации |
| ГОСТ Р 56939-2024, п. 5.15 | Обеспечение безопасности секретов — секреты, используемые при сборке |
| SLSA (Supply-chain Levels for Software Artifacts) | Фреймворк уровней безопасности цепочки поставок ПО |
| in-toto | Фреймворк для защиты целостности цепочки поставок ПО |
| Sigstore (cosign, Rekor) | Инструменты подписания и верификации артефактов |

### 1.3. Связь с другими документами комплекта РБПО

| Документ РБПО | Связь |
|----------------|-------|
| 03 — Регламент управления конфигурациями | Сборочная конфигурация (build scripts, Dockerfile, CI/CD pipeline) является элементом конфигурации и управляется по процессу 5.4 |
| 04 — Регламент управления недостатками | Нарушение целостности сборки или обнаружение проблем в сборочном процессе регистрируется как недостаток по процессу 5.5 |
| 12 — Регламент безопасности сборочной среды | Сборка выполняется в защищённой среде; настоящий документ описывает ЧТО собирается, документ 12 — ГДЕ и КАК защищена среда сборки |
| 13 — Регламент управления доступом к коду | Целостность исходного кода — входное условие для целостности сборки |
| 14 — Политика управления секретами | Секреты (ключи подписания, токены registry) используемые при сборке, управляются по политике документа 14 |

---

## 2. Область применения

### 2.1. Компоненты, подвергаемые сборке

Настоящий Регламент распространяется на сборку следующих компонентов продукта:

- **Приложения и сервисы** — backend, frontend, middleware, микросервисы.
- **Контейнерные образы** — Docker-образы для всех компонентов.
- **Библиотеки и SDK** — переиспользуемые модули, публикуемые во внутренний registry.
- **Пакеты дистрибуции** — RPM, DEB, MSI, tarball и другие форматы поставки.
- **Инфраструктурные артефакты** — Helm charts, Terraform modules, Ansible roles.
- **Документация** — генерируемая техническая документация (при наличии сборочного процесса).

### 2.2. Типы сборок

| Тип сборки | Назначение | Среда | Частота |
|-----------|-----------|-------|---------|
| **CI-сборка (develop)** | Проверка сборки при каждом коммите/PR | CI/CD runner | Каждый push / PR |
| **Integration-сборка** | Сборка после слияния в основную ветку | CI/CD runner | При merge в development/main |
| **Release-сборка** | Сборка релизного артефакта для поставки | Выделенный build-агент | При создании релизного тега |
| **Hotfix-сборка** | Экстренная сборка для критического исправления | Выделенный build-агент | По необходимости |

### 2.3. Этапы жизненного цикла

Безопасная сборка обеспечивается на следующих этапах:

- **Разработка** — CI-сборки при каждом изменении кода.
- **Тестирование** — интеграционные сборки для развёртывания в тестовых средах.
- **Предрелизная подготовка** — release-сборки с полным набором проверок целостности.
- **Сопровождение** — hotfix-сборки при обнаружении критических уязвимостей.

---

## 3. Описание сборочной среды

### 3.1. Реестр компонентов сборочной среды

> Требование ГОСТ Р 56939-2024, п. 5.12.2 — зафиксировать информацию о сборочной среде.

| Компонент | Версия | Назначение | Источник | Хеш-сумма (SHA-256) |
|-----------|--------|-----------|----------|---------------------|
| **Операционная система** | [ЗАПОЛНИТЬ: Ubuntu 22.04 LTS / Alpine 3.19] | Базовая ОС сборочного агента | [ЗАПОЛНИТЬ: официальный образ] | [ЗАПОЛНИТЬ] |
| **Runtime / Интерпретатор** | [ЗАПОЛНИТЬ: Node.js 20.x / Python 3.12 / Go 1.22] | Среда выполнения | [ЗАПОЛНИТЬ: официальный сайт] | [ЗАПОЛНИТЬ] |
| **Компилятор** | [ЗАПОЛНИТЬ: GCC 13 / Clang 17 / rustc 1.77] | Компиляция исходного кода | [ЗАПОЛНИТЬ: официальный сайт] | [ЗАПОЛНИТЬ] |
| **Build system** | [ЗАПОЛНИТЬ: npm 10.x / pip 24.x / cargo / make] | Система сборки | [ЗАПОЛНИТЬ: менеджер пакетов] | [ЗАПОЛНИТЬ] |
| **Container runtime** | [ЗАПОЛНИТЬ: Docker 25.x / Podman 5.x / Buildah] | Сборка контейнерных образов | [ЗАПОЛНИТЬ: официальный сайт] | [ЗАПОЛНИТЬ] |
| **CI/CD система** | [ЗАПОЛНИТЬ: GitLab CI / GitHub Actions / Jenkins] | Оркестрация сборочного процесса | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 3.2. Базовые образы контейнеров

| Образ | Тег / дайджест | Назначение | Registry | Последняя проверка |
|-------|---------------|-----------|----------|-------------------|
| [ЗАПОЛНИТЬ: node:20-alpine] | [ЗАПОЛНИТЬ: sha256:...] | Сборка frontend | [ЗАПОЛНИТЬ: Docker Hub / внутренний registry] | [ЗАПОЛНИТЬ: дата] |
| [ЗАПОЛНИТЬ: python:3.12-slim] | [ЗАПОЛНИТЬ: sha256:...] | Сборка backend | [ЗАПОЛНИТЬ: Docker Hub / внутренний registry] | [ЗАПОЛНИТЬ: дата] |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

> **Правило:** базовые образы фиксируются по дайджесту (sha256), а не по мутабельному тегу (latest, stable).

### 3.3. Фиксация версий сборочной среды

Информация о сборочной среде фиксируется:

1. **В репозитории проекта** — Dockerfile, CI/CD-конфигурация, файлы зависимостей (lock-файлы).
2. **В реестре сборок** — для каждой release-сборки (раздел 9).
3. **В метаданных артефакта** — build-info, встроенная в артефакт или сопутствующий файл.

---

## 4. Инструменты сборки

### 4.1. Реестр инструментов сборки

| Инструмент | Версия | Назначение | Конфигурационный файл | Лицензия |
|-----------|--------|-----------|----------------------|----------|
| [ЗАПОЛНИТЬ: npm] | [ЗАПОЛНИТЬ: 10.x] | Управление JS-зависимостями и сборка frontend | package.json, package-lock.json | Artistic-2.0 |
| [ЗАПОЛНИТЬ: pip / uv] | [ЗАПОЛНИТЬ] | Управление Python-зависимостями | requirements.txt / pyproject.toml | MIT |
| [ЗАПОЛНИТЬ: Docker / Buildah] | [ЗАПОЛНИТЬ] | Сборка контейнерных образов | Dockerfile, .dockerignore | Apache 2.0 |
| [ЗАПОЛНИТЬ: webpack / Vite / esbuild] | [ЗАПОЛНИТЬ] | Bundler для frontend | [ЗАПОЛНИТЬ: конфигурационный файл] | MIT |
| [ЗАПОЛНИТЬ: Make / Task / Just] | [ЗАПОЛНИТЬ] | Оркестрация задач сборки | Makefile / Taskfile.yml | [ЗАПОЛНИТЬ] |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 4.2. Следование рекомендациям вендоров

> Требование ГОСТ Р 56939-2024, п. 5.12.2 — следовать рекомендациям вендора инструментов сборки.

Для каждого инструмента сборки соблюдаются рекомендации вендора:

| Инструмент | Рекомендация вендора | Статус соблюдения | Обоснование отклонения (если есть) |
|-----------|---------------------|-------------------|------------------------------------|
| [ЗАПОЛНИТЬ: npm] | Использовать `npm ci` вместо `npm install` в CI | [ЗАПОЛНИТЬ: соблюдается] | — |
| [ЗАПОЛНИТЬ: npm] | Использовать `package-lock.json` для фиксации версий | [ЗАПОЛНИТЬ: соблюдается] | — |
| [ЗАПОЛНИТЬ: Docker] | Использовать multi-stage builds для минимизации образа | [ЗАПОЛНИТЬ: соблюдается] | — |
| [ЗАПОЛНИТЬ: Docker] | Не запускать процессы от root | [ЗАПОЛНИТЬ: соблюдается] | — |
| [ЗАПОЛНИТЬ: Docker] | Использовать .dockerignore для исключения ненужных файлов | [ЗАПОЛНИТЬ: соблюдается] | — |
| [ЗАПОЛНИТЬ: pip/uv] | Фиксировать версии зависимостей (pinned) | [ЗАПОЛНИТЬ: соблюдается] | — |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 4.3. Конфигурация безопасности инструментов

| Инструмент | Параметр безопасности | Значение | Описание |
|-----------|----------------------|----------|----------|
| npm | `--ignore-scripts` (при установке зависимостей) | [ЗАПОЛНИТЬ: Да / Нет / Выборочно] | Предотвращение выполнения произвольных скриптов при установке пакетов |
| npm | `npm audit` | Обязательно в CI | Проверка зависимостей на известные уязвимости |
| Docker | `--no-cache` (для release-сборок) | [ЗАПОЛНИТЬ: Да] | Предотвращение использования устаревших слоёв кеша |
| Docker | Content Trust (`DOCKER_CONTENT_TRUST=1`) | [ЗАПОЛНИТЬ: Да / Нет] | Верификация подписей образов |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

---

## 5. Конфигурация сборки

### 5.1. Сборочные скрипты и конфигурация

Все сборочные конфигурации хранятся в системе контроля версий и являются элементами конфигурации (документ 03 — Регламент управления конфигурациями, процесс 5.4).

| Конфигурационный файл | Назначение | Расположение в репозитории |
|-----------------------|-----------|---------------------------|
| [ЗАПОЛНИТЬ: Dockerfile] | Сборка контейнерного образа backend | [ЗАПОЛНИТЬ: backends/python/Dockerfile] |
| [ЗАПОЛНИТЬ: Dockerfile] | Сборка контейнерного образа frontend | [ЗАПОЛНИТЬ: frontend/Dockerfile] |
| [ЗАПОЛНИТЬ: docker-compose.yml] | Оркестрация сборки всех сервисов | [ЗАПОЛНИТЬ: docker-compose.yml] |
| [ЗАПОЛНИТЬ: .gitlab-ci.yml / .github/workflows/] | CI/CD pipeline — определение этапов сборки | [ЗАПОЛНИТЬ: путь] |
| [ЗАПОЛНИТЬ: package.json] | Зависимости и скрипты сборки frontend | [ЗАПОЛНИТЬ: frontend/package.json] |
| [ЗАПОЛНИТЬ: requirements.txt] | Зависимости backend | [ЗАПОЛНИТЬ: backends/python/requirements.txt] |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 5.2. Этапы сборочного пайплайна

| Этап | Описание | Инструмент | Артефакт |
|------|----------|-----------|----------|
| 1. Checkout | Получение исходного кода из VCS | Git | Рабочая копия |
| 2. Install dependencies | Установка зависимостей из lock-файлов | [ЗАПОЛНИТЬ: npm ci, pip install] | node_modules, .venv |
| 3. Lint & Format | Проверка стиля и форматирования | [ЗАПОЛНИТЬ: ESLint, Ruff] | Отчёт |
| 4. Test | Запуск модульных и интеграционных тестов | [ЗАПОЛНИТЬ: Vitest, pytest] | Отчёт о тестировании |
| 5. SAST | Статический анализ безопасности | [ЗАПОЛНИТЬ: Semgrep, Bandit] | Отчёт SAST |
| 6. Build | Компиляция / сборка приложения | [ЗАПОЛНИТЬ: npm run build, Docker build] | Бинарный артефакт / образ |
| 7. Sign | Подписание артефакта | [ЗАПОЛНИТЬ: cosign, GPG] | Подпись (.sig / .bundle) |
| 8. Push | Публикация артефакта в registry | [ЗАПОЛНИТЬ: Docker push, npm publish] | Опубликованный артефакт |
| 9. SBOM | Генерация Software Bill of Materials | [ЗАПОЛНИТЬ: syft, trivy] | SBOM (CycloneDX / SPDX) |

### 5.3. Переменные окружения сборки

| Переменная | Назначение | Источник | Секрет? |
|-----------|-----------|----------|---------|
| `CI_COMMIT_SHA` | Хеш коммита для идентификации сборки | CI/CD система (автоматически) | Нет |
| `CI_PIPELINE_ID` | Идентификатор пайплайна | CI/CD система (автоматически) | Нет |
| `REGISTRY_URL` | URL container registry | CI/CD переменные | Нет |
| `REGISTRY_TOKEN` | Токен для публикации в registry | CI/CD secrets / Vault | **Да** |
| `SIGNING_KEY` | Ключ подписания артефактов | CI/CD secrets / Vault | **Да** |
| [ЗАПОЛНИТЬ: дополнительные] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

> Секреты не хранятся в коде и не передаются через аргументы командной строки. Управление секретами — по документу 14 (Политика управления секретами, процесс 5.15).

---

## 6. Воспроизводимость сборок

### 6.1. Принципы воспроизводимости

> Требование ГОСТ Р 56939-2024, п. 5.12.2 — обеспечить воспроизводимость сборок.

Воспроизводимая (reproducible / deterministic) сборка — сборка, при которой одинаковые входные данные (исходный код + зависимости + конфигурация + среда) гарантированно дают одинаковый артефакт (бит-в-бит или с верифицируемым отличием, например, timestamp).

| Принцип | Описание | Реализация |
|---------|----------|-----------|
| **Фиксация зависимостей** | Все прямые и транзитивные зависимости зафиксированы с точными версиями и хеш-суммами | Lock-файлы: package-lock.json, requirements.txt (pinned), go.sum, Cargo.lock |
| **Фиксация базовых образов** | Базовые Docker-образы ссылаются по дайджесту (sha256), а не по тегу | `FROM node:20-alpine@sha256:...` |
| **Фиксация инструментов** | Версии компиляторов, runtime и build tools зафиксированы | Dockerfile, CI/CD конфигурация |
| **Изоляция среды** | Сборка выполняется в изолированном контейнере / эфемерном runner | Docker-in-Docker, ephemeral CI runners |
| **Отсутствие недетерминизма** | Устранение источников недетерминизма (timestamps, random values, parallel ordering) | Конфигурация инструментов сборки |

### 6.2. Практики обеспечения воспроизводимости

| Практика | Описание | Статус |
|----------|----------|--------|
| Lock-файлы в VCS | Все lock-файлы (package-lock.json, requirements.txt и др.) зафиксированы в системе контроля версий | [ЗАПОЛНИТЬ: реализовано / в процессе] |
| `npm ci` вместо `npm install` | Детерминированная установка зависимостей строго по lock-файлу | [ЗАПОЛНИТЬ] |
| Pinned versions в Dockerfile | Все `FROM`, `RUN apt-get install`, `pip install` с точными версиями | [ЗАПОЛНИТЬ] |
| SOURCE_DATE_EPOCH | Установка фиксированной временной метки для устранения timestamp-зависимостей | [ЗАПОЛНИТЬ] |
| Hermetic build | Сборка без доступа к сети (все зависимости pre-fetched) | [ЗАПОЛНИТЬ] |
| Deterministic output | Проверка бит-в-бит совпадения артефактов при повторной сборке | [ЗАПОЛНИТЬ] |

### 6.3. Верификация воспроизводимости

| Проверка | Метод | Периодичность |
|----------|-------|---------------|
| Повторная сборка и сравнение хешей | Запуск сборки из того же коммита на чистом runner; сравнение SHA-256 артефактов | [ЗАПОЛНИТЬ: перед каждым релизом / ежемесячно] |
| Аудит lock-файлов | Проверка отсутствия неожиданных изменений в lock-файлах | Каждый PR (CI/CD) |
| Проверка базовых образов | Верификация дайджестов базовых образов | [ЗАПОЛНИТЬ: еженедельно / при обновлении] |

---

## 7. Контроль целостности артефактов

### 7.1. Хеширование артефактов

> Требование ГОСТ Р 56939-2024, п. 5.12.2 — контролировать целостность артефактов сборки.

Для каждого артефакта сборки вычисляется и сохраняется криптографическая хеш-сумма:

| Параметр | Значение |
|----------|----------|
| Алгоритм хеширования | SHA-256 (основной), SHA-512 (опционально) |
| Формат файла хешей | `<hash>  <filename>` (формат sha256sum) |
| Хранение | Рядом с артефактом в registry + в реестре сборок (раздел 9) |
| Именование | `<artifact-name>.sha256` |

**Процедура:**

1. После завершения этапа Build (раздел 5.2) вычисляется SHA-256 каждого артефакта.
2. Хеш-суммы сохраняются как отдельный файл и записываются в метаданные CI/CD pipeline.
3. При публикации артефакта хеш-сумма публикуется вместе с ним.
4. При загрузке артефакта (deployment, скачивание) — обязательная верификация хеш-суммы.

### 7.2. Подписание артефактов

| Параметр | Значение |
|----------|----------|
| Инструмент подписания | [ЗАПОЛНИТЬ: cosign / GPG / Sigstore / внутренний PKI] |
| Тип ключа | [ЗАПОЛНИТЬ: RSA-4096 / ECDSA P-256 / keyless (Fulcio)] |
| Хранение закрытого ключа | [ЗАПОЛНИТЬ: Vault / KMS / HSM — не в коде, не на CI runner] |
| Формат подписи | [ЗАПОЛНИТЬ: .sig / .bundle / in-toto attestation] |
| Transparency log | [ЗАПОЛНИТЬ: Rekor / внутренний transparency log / не используется] |

**Процедура подписания:**

1. После вычисления хеш-суммы CI/CD pipeline вызывает инструмент подписания.
2. Закрытый ключ загружается из Vault / KMS (не хранится на runner).
3. Подпись создаётся для артефакта (или для его хеш-суммы).
4. Подпись публикуется вместе с артефактом.
5. Факт подписания записывается в transparency log (при использовании).

### 7.3. Верификация артефактов

| Когда | Кто проверяет | Что проверяется |
|-------|--------------|-----------------|
| Перед публикацией в production registry | CI/CD pipeline (автоматически) | SHA-256 совпадает с вычисленной при сборке |
| При развёртывании (deployment) | Deployment pipeline | Подпись валидна, хеш совпадает |
| При скачивании для поставки | Ответственный за поставку | Подпись + хеш + соответствие реестру сборок |
| При аудите / сертификации | Аудитор | Подпись + хеш + воспроизводимость |

**Процедура верификации:**

1. Скачать артефакт и его подпись.
2. Верифицировать подпись с использованием открытого ключа / transparency log.
3. Вычислить SHA-256 скачанного артефакта.
4. Сравнить с хеш-суммой из реестра сборок.
5. При несовпадении — заблокировать использование и уведомить ответственных.

### 7.4. Генерация SBOM

Для каждой release-сборки генерируется Software Bill of Materials (SBOM):

| Параметр | Значение |
|----------|----------|
| Формат | [ЗАПОЛНИТЬ: CycloneDX JSON / SPDX JSON] |
| Инструмент генерации | [ЗАПОЛНИТЬ: syft / trivy / cdxgen] |
| Содержание | Все прямые и транзитивные зависимости с версиями, хешами, лицензиями |
| Хранение | Рядом с артефактом в registry + в системе управления SBOM |
| Подписание | SBOM подписывается тем же ключом, что и артефакт |

---

## 8. Порядок обновления инструментов сборки

### 8.1. Процедура обновления

Обновление компонентов сборочной среды (ОС, runtime, компиляторы, build tools) выполняется по следующей процедуре:

| Шаг | Действие | Ответственный |
|-----|----------|---------------|
| 1 | Отслеживание новых версий инструментов (release notes, CVE, vendor advisories) | [ЗАПОЛНИТЬ: DevOps-инженер / ответственный за инфраструктуру] |
| 2 | Оценка необходимости обновления (security fix, breaking changes, EOL) | [ЗАПОЛНИТЬ: техлид + DevOps] |
| 3 | Создание задачи на обновление в трекере | [ЗАПОЛНИТЬ: ответственный] |
| 4 | Обновление конфигурации сборочной среды в feature-ветке | [ЗАПОЛНИТЬ: DevOps-инженер] |
| 5 | Тестирование совместимости: полная CI-сборка + тесты на обновлённой среде | [ЗАПОЛНИТЬ: CI/CD автоматически] |
| 6 | Сравнение артефактов: diff размера, зависимостей, функциональности | [ЗАПОЛНИТЬ: DevOps-инженер] |
| 7 | Code review изменений сборочной конфигурации (документ 08, процесс 5.9) | [ЗАПОЛНИТЬ: рецензент] |
| 8 | Merge в основную ветку и обновление реестра сборочной среды (раздел 3) | [ЗАПОЛНИТЬ: DevOps-инженер] |

### 8.2. Критерии обязательного обновления

| Критерий | Срок обновления |
|----------|----------------|
| Устранение критической уязвимости (CVE Critical/High) в инструменте сборки | [ЗАПОЛНИТЬ: ≤ 7 дней] |
| End-of-Life (EOL) версии инструмента | До даты EOL |
| Нарушение совместимости с зависимостями | По результатам анализа |
| Рекомендация вендора (security advisory) | [ЗАПОЛНИТЬ: ≤ 14 дней] |

### 8.3. Реестр обновлений

| Дата | Компонент | Версия (до) | Версия (после) | Причина | Тикет | Результат тестирования |
|------|-----------|-------------|----------------|---------|-------|----------------------|
| [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

---

## 9. Реестр сборок

### 9.1. Формат реестра

Для каждой release-сборки (и значимых integration-сборок) ведётся запись в реестре:

| ID сборки | Дата и время | Версия продукта | Коммит (SHA) | Ветка / тег | Сборочная среда (ОС, runtime, tools) | Артефакт | Размер | SHA-256 артефакта | Подпись | Кто инициировал | CI Pipeline ID | SBOM |
|-----------|-------------|-----------------|-------------|-------------|--------------------------------------|----------|--------|-------------------|---------|-----------------|----------------|------|
| [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 9.2. Хранение реестра

| Параметр | Значение |
|----------|----------|
| Место хранения | [ЗАПОЛНИТЬ: CI/CD система (автоматически) + Confluence / Wiki (сводный)] |
| Срок хранения | [ЗАПОЛНИТЬ: не менее 5 лет / срок действия сертификата + 1 год] |
| Доступ | [ЗАПОЛНИТЬ: DevOps, команда разработки, инженеры по безопасности, аудиторы] |
| Резервное копирование | [ЗАПОЛНИТЬ: периодичность и способ] |
| Защита от модификации | [ЗАПОЛНИТЬ: подписание записей / append-only хранилище / аудит-журнал] |

### 9.3. Требования к архивированию

- Для каждой release-версии сохраняется полная запись реестра вместе с артефактами и SBOM.
- При сертификации по требованиям ФСТЭК — реестр сборок предоставляется как свидетельство безопасности сборочного процесса.
- Срок хранения — [ЗАПОЛНИТЬ: не менее срока действия сертификата + 1 год].

---

## 10. История изменений

| Версия | Дата | Описание изменений | Автор |
|--------|------|--------------------|-------|
| 1.0 | [ЗАПОЛНИТЬ: дата] | Первая версия документа | [ЗАПОЛНИТЬ: ФИО] |
