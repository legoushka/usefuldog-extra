# Регламент приёмки и выпуска версии ПО

| | |
|---|---|
| **Продукт** | [ЗАПОЛНИТЬ: наименование СЗИ] |
| **Версия документа** | 1.0 |
| **Дата** | [ЗАПОЛНИТЬ: дата утверждения] |
| **Статус** | Проект |
| **Утверждено** | [ЗАПОЛНИТЬ: должность, ФИО руководителя] |
| **Процесс ГОСТ Р 56939-2024** | 5.20 — Обеспечение безопасности выпуска готовой версии ПО |

---

## Содержание

1. [Общие сведения](#1-общие-сведения)
2. [Область применения](#2-область-применения)
3. [Критерии готовности к выпуску](#3-критерии-готовности-к-выпуску)
4. [Приёмочные испытания безопасности](#4-приёмочные-испытания-безопасности)
5. [Процедура выпуска версии](#5-процедура-выпуска-версии)
6. [Роли и ответственности при выпуске](#6-роли-и-ответственности-при-выпуске)
7. [Управление артефактами выпуска](#7-управление-артефактами-выпуска)
8. [Выпуск срочных исправлений безопасности](#8-выпуск-срочных-исправлений-безопасности)
9. [Откат при обнаружении проблем безопасности](#9-откат-при-обнаружении-проблем-безопасности)
10. [Реестр выпусков](#10-реестр-выпусков)
11. [История изменений](#11-история-изменений)

---

## 1. Общие сведения

### 1.1. Назначение документа

Настоящий Регламент определяет порядок:

- Проведения приёмочных испытаний безопасности перед выпуском версии ПО.
- Проверки выполнения всех процессов разработки безопасного программного обеспечения (РБПО) перед выпуском.
- Обеспечения целостности финальной сборки и артефактов выпуска.
- Подписания релизных артефактов (контейнерных образов, бинарных файлов, пакетов).
- Формирования комплекта документации выпуска (SBOM, release notes, security advisory).
- Управления процедурой выпуска для различных типов релизов (major, minor, patch, hotfix).
- Отката версии при обнаружении критических проблем безопасности после выпуска.

Регламент разработан в соответствии с требованиями ГОСТ Р 56939-2024, п. 5.20 (обеспечение безопасности выпуска готовой версии ПО) и п. 5.20.2, которые устанавливают необходимость:

- Разработать регламент приёмки и обеспечения целостности ПО.
- Проверить выполнение всех процессов РБПО перед выпуском.
- Обеспечить целостность финальной сборки.
- Подписать релизные артефакты.

### 1.2. Нормативные ссылки

| Документ | Описание |
|----------|----------|
| ГОСТ Р 56939-2024, п. 5.20 | Обеспечение безопасности выпуска готовой версии ПО — основной процесс |
| ГОСТ Р 56939-2024, п. 5.20.2 | Требования к процессу приёмки и выпуска версии ПО |
| ГОСТ Р 56939-2024, п. 5.18 | Функциональное тестирование ПО — подтверждение корректности реализации требований безопасности |
| ГОСТ Р 56939-2024, п. 5.19 | Тестирование на проникновение и фаззинг-тестирование — подтверждение устойчивости к атакам |
| ГОСТ Р 56939-2024, п. 5.12 | Использование безопасной системы сборки ПО — целостность сборки |
| ГОСТ Р 56939-2024, п. 5.16 | Композиционный анализ ПО — отсутствие известных уязвимостей в зависимостях |
| ГОСТ Р 56939-2024, п. 5.21 | Безопасная доставка ПО пользователям — передача выпущенной версии получателям |
| ГОСТ Р 56939-2024, п. 5.5 | Управление недостатками ПО — регистрация обнаруженных дефектов безопасности |
| SemVer (Semantic Versioning 2.0.0) | Стандарт версионирования: MAJOR.MINOR.PATCH; определяет семантику изменения версий |
| Sigstore (cosign, Rekor, Fulcio) | Инструменты подписания, верификации и прозрачного логирования артефактов |
| SLSA (Supply-chain Levels for Software Artifacts) | Фреймворк уровней безопасности цепочки поставок ПО |

### 1.3. Связь с другими документами комплекта РБПО

| Документ РБПО | Связь |
|----------------|-------|
| 04 — Регламент управления недостатками | Все обнаруженные дефекты безопасности (Critical, High) должны быть устранены или документированы перед выпуском; отсутствие Critical-дефектов — обязательный критерий выпуска (процесс 5.5) |
| 05 — Требования безопасности | Все функциональные и нефункциональные требования безопасности должны быть реализованы и верифицированы перед выпуском (процесс 5.6) |
| 11 — Регламент безопасной сборки | Release-сборка выполняется в соответствии с регламентом безопасной сборки; целостность артефактов сборки — критерий выпуска (процесс 5.12) |
| 15 — Регламент композиционного анализа | SCA-проверка подтверждает отсутствие известных Critical/High уязвимостей в зависимостях — критерий выпуска (процесс 5.16) |
| 17 — Регламент функционального тестирования | Все функциональные тесты безопасности должны быть пройдены — критерий выпуска (процесс 5.18) |
| 18 — Регламент пентеста и фаззинга | Результаты тестирования на проникновение и фаззинг-тестирования подтверждают устойчивость к атакам — критерий выпуска (процесс 5.19) |
| 20 — Регламент безопасной доставки ПО | После выпуска версии — передача артефактов получателям по процедуре безопасной доставки (процесс 5.21) |

---

## 2. Область применения

### 2.1. Типы релизов

Настоящий Регламент распространяется на следующие типы релизов продукта:

| Тип релиза | Версионирование (SemVer) | Описание | Полнота проверок |
|------------|-------------------------|----------|-----------------|
| **Major** | X.0.0 | Мажорная версия: существенные изменения архитектуры, новая функциональность, breaking changes | Полная приёмка (все security gates) |
| **Minor** | x.Y.0 | Минорная версия: новая функциональность, улучшения без breaking changes | Полная приёмка (все security gates) |
| **Patch** | x.y.Z | Патч-версия: исправление ошибок, незначительные улучшения | Сокращённая приёмка (security gates без полного пентеста) |
| **Hotfix** | x.y.Z+hotfix | Срочное исправление безопасности: устранение Critical/High уязвимости | Ускоренная приёмка (раздел 8) |

### 2.2. Компоненты продукта

| Компонент | Описание | Артефакт выпуска |
|-----------|----------|-----------------|
| [ЗАПОЛНИТЬ: Frontend] | [ЗАПОЛНИТЬ: описание] | [ЗАПОЛНИТЬ: контейнерный образ / статические файлы] |
| [ЗАПОЛНИТЬ: Backend] | [ЗАПОЛНИТЬ: описание] | [ЗАПОЛНИТЬ: контейнерный образ / бинарный файл / пакет] |
| [ЗАПОЛНИТЬ: дополнительные компоненты] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 2.3. Среды развёртывания

| Среда | Назначение | Порядок развёртывания |
|-------|-----------|----------------------|
| **Development** | Разработка и отладка | 1 — автоматически при merge в development |
| **Staging** | Предрелизное тестирование, приёмочные испытания | 2 — после прохождения CI/CD gates |
| **Production** | Продуктивная среда для конечных пользователей | 3 — после утверждения выпуска |
| [ЗАПОЛНИТЬ: дополнительные среды] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

---

## 3. Критерии готовности к выпуску

### 3.1. Security gates — чеклист процессов РБПО

> Требование ГОСТ Р 56939-2024, п. 5.20.2 — проверить все процессы РБПО перед выпуском.

Перед выпуском версии должны быть подтверждены результаты выполнения всех процессов РБПО:

| # | Процесс РБПО | Документ | Критерий прохождения | Подтверждение | Обязателен для типов релизов |
|---|--------------|----------|---------------------|---------------|------------------------------|
| 1 | **Статический анализ (SAST)** (п. 5.10) | 09 — Регламент статического анализа | 0 Critical, 0 High находок; все находки обработаны (устранены или false positive) | Отчёт SAST, ID записи в трекере | Major, Minor, Patch, Hotfix |
| 2 | **Динамический анализ (DAST)** (п. 5.11) | 10 — Регламент динамического анализа | 0 Critical, 0 High находок; все находки обработаны | Отчёт DAST, ID записи в трекере | Major, Minor, Patch |
| 3 | **Композиционный анализ (SCA)** (п. 5.16) | 15 — Регламент композиционного анализа | 0 Critical уязвимостей в зависимостях; все High — с планом устранения | Отчёт SCA, SBOM | Major, Minor, Patch, Hotfix |
| 4 | **Экспертиза кода (Code Review)** (п. 5.9) | 08 — Регламент экспертизы кода | Все изменения прошли code review; нет open review comments security-характера | Approve в PR, merge history | Major, Minor, Patch, Hotfix |
| 5 | **Функциональное тестирование** (п. 5.18) | 17 — Регламент функционального тестирования | Все тесты безопасности пройдены (pass rate 100%); регрессионные тесты пройдены | Отчёт тестирования, CI/CD pipeline status | Major, Minor, Patch |
| 6 | **Тестирование на проникновение** (п. 5.19) | 18 — Регламент пентеста и фаззинга | 0 Critical, 0 High находок; все находки устранены или приняты с обоснованием | Отчёт пентеста | Major, Minor |
| 7 | **Фаззинг-тестирование** (п. 5.19) | 18 — Регламент пентеста и фаззинга | Фаззинг-кампания завершена; 0 crasher без исправления | Отчёт фаззинга | Major, Minor |
| 8 | **Проверка секретов** (п. 5.15) | 14 — Политика управления секретами | 0 секретов в коде и артефактах; сканирование пройдено | Отчёт secret scanning | Major, Minor, Patch, Hotfix |
| 9 | **SBOM сформирован** (п. 5.16) | 15 — Регламент композиционного анализа | SBOM в формате CycloneDX актуален и валиден | SBOM-файл, результат валидации | Major, Minor, Patch |
| 10 | **Supply chain проверка** (п. 5.17) | 16 — Регламент проверки цепочки поставок | Все зависимости прошли проверку целостности; lock-файлы актуальны | Отчёт supply chain check | Major, Minor, Patch |
| 11 | **Управление недостатками** (п. 5.5) | 04 — Регламент управления недостатками | 0 открытых Critical дефектов; все High — с планом устранения или обоснованием принятия | Трекер дефектов, статус backlog | Major, Minor, Patch, Hotfix |

### 3.2. Дополнительные критерии готовности

| Критерий | Описание | Подтверждение |
|----------|----------|---------------|
| **Требования безопасности выполнены** | Все требования безопасности из документа 05 реализованы и верифицированы | Traceability matrix (требование → тест → результат) |
| **Документация актуальна** | Release notes, changelog, руководства обновлены для новой версии | Готовый draft release notes |
| **Совместимость проверена** | Обратная совместимость подтверждена (или breaking changes документированы) | Результаты интеграционных тестов |
| **Миграции протестированы** | Миграции данных/схемы протестированы на staging | Лог выполнения миграций |
| **Performance baseline** | Нет деградации производительности относительно предыдущей версии | Результаты нагрузочных тестов (при наличии) |

### 3.3. Матрица обязательности security gates по типу релиза

| Security gate | Major | Minor | Patch | Hotfix |
|--------------|-------|-------|-------|--------|
| SAST | Обязательно | Обязательно | Обязательно | Обязательно |
| DAST | Обязательно | Обязательно | Обязательно | По решению Security |
| SCA | Обязательно | Обязательно | Обязательно | Обязательно |
| Code Review | Обязательно | Обязательно | Обязательно | Обязательно |
| Функц. тесты | Обязательно | Обязательно | Обязательно | Сокращённый набор |
| Пентест | Обязательно | Обязательно | По решению Security | Не требуется |
| Фаззинг | Обязательно | Обязательно | По решению Security | Не требуется |
| Secret scanning | Обязательно | Обязательно | Обязательно | Обязательно |
| SBOM | Обязательно | Обязательно | Обязательно | Обновление существующего |
| Supply chain | Обязательно | Обязательно | Обязательно | По решению Security |
| 0 Critical дефектов | Обязательно | Обязательно | Обязательно | Обязательно |

---

## 4. Приёмочные испытания безопасности

### 4.1. Чеклист приёмочных испытаний

> Требование ГОСТ Р 56939-2024, п. 5.20.2 — разработать регламент приёмки и обеспечения целостности ПО.

| # | Проверка | Метод | Ожидаемый результат | Статус |
|---|----------|-------|--------------------|---------
| 1 | Аутентификация и авторизация | Функциональное тестирование (документ 17) | Все механизмы аутентификации работают корректно; разграничение доступа соответствует ролевой модели | [ЗАПОЛНИТЬ] |
| 2 | Валидация входных данных | SAST + DAST + функциональные тесты | Все точки входа валидируют данные; injection-атаки отражены | [ЗАПОЛНИТЬ] |
| 3 | Криптографические механизмы | Code review + функциональные тесты | Используются актуальные алгоритмы; ключи управляются согласно документу 14 | [ЗАПОЛНИТЬ] |
| 4 | Обработка ошибок и логирование | Code review + функциональные тесты | Ошибки не раскрывают внутреннюю информацию; security-события логируются | [ЗАПОЛНИТЬ] |
| 5 | Конфигурация безопасности | Ручная проверка + автоматизированные тесты | Default deny; минимальные привилегии; hardened конфигурация | [ЗАПОЛНИТЬ] |
| 6 | Зависимости | SCA + supply chain проверка | 0 Critical CVE; целостность зависимостей подтверждена | [ЗАПОЛНИТЬ] |
| 7 | Целостность артефактов | Автоматическая верификация в CI/CD | Контрольные суммы артефактов совпадают; подписи валидны | [ЗАПОЛНИТЬ] |
| 8 | Устойчивость к атакам | Пентест + фаззинг (документ 18) | 0 Critical/High находок; границы fuzzing-покрытия достигнуты | [ЗАПОЛНИТЬ] |
| 9 | Секреты в артефактах | Secret scanning | 0 секретов в коде, образах, конфигурационных файлах | [ЗАПОЛНИТЬ] |
| 10 | Compliance check | Ручная проверка | Все требования ГОСТ Р 56939-2024 для данного процесса выполнены | [ЗАПОЛНИТЬ] |

### 4.2. Процедура приёмочных испытаний

| Шаг | Действие | Ответственный | Срок |
|-----|----------|---------------|------|
| 1 | Release Manager формирует запрос на приёмочные испытания с указанием версии и scope | Release Manager | [ЗАПОЛНИТЬ: за N дней до планируемого выпуска] |
| 2 | QA выполняет регрессионное и функциональное тестирование безопасности по чеклисту (раздел 4.1) | [ЗАПОЛНИТЬ: QA Engineer] | [ЗАПОЛНИТЬ: 1–3 рабочих дня] |
| 3 | Security выполняет проверку security gates (раздел 3.1) | [ЗАПОЛНИТЬ: Security Engineer] | [ЗАПОЛНИТЬ: 1–2 рабочих дня] |
| 4 | Security формирует заключение: «Годен к выпуску» / «Не годен — список замечаний» | [ЗАПОЛНИТЬ: Security Engineer] | По завершении проверки |
| 5 | При наличии замечаний — устранение и повторная проверка | Разработчик + Security | [ЗАПОЛНИТЬ: зависит от замечаний] |
| 6 | Финальное утверждение (sign-off) от QA и Security | QA Lead + Security Lead | По завершении всех проверок |

### 4.3. Документирование результатов приёмки

| Документ | Описание | Формат | Хранение |
|----------|----------|--------|----------|
| **Протокол приёмочных испытаний** | Заполненный чеклист (раздел 4.1) с результатами каждой проверки, выводом «Годен / Не годен» | [ЗАПОЛНИТЬ: Confluence / markdown / PDF] | [ЗАПОЛНИТЬ: проектная wiki / система документов] |
| **Security sign-off** | Заключение Security о готовности к выпуску с перечнем пройденных security gates | [ЗАПОЛНИТЬ: формализованный документ / тикет] | [ЗАПОЛНИТЬ] |
| **QA sign-off** | Заключение QA о прохождении функциональных и регрессионных тестов | [ЗАПОЛНИТЬ: формализованный документ / тикет] | [ЗАПОЛНИТЬ] |
| **Отчёты инструментов** | Результаты SAST, DAST, SCA, secret scanning, пентеста | Нативный формат инструментов + summary | [ЗАПОЛНИТЬ: CI/CD artifacts / система хранения отчётов] |

---

## 5. Процедура выпуска версии

### 5.1. Этапы выпуска

> Требование ГОСТ Р 56939-2024, п. 5.20.2 — обеспечить целостность финальной сборки.

| Этап | Действие | Ответственный | Описание |
|------|----------|---------------|----------|
| **1. Подготовка** | Создание release branch / merge в main; фиксация версии в коде; подготовка changelog и release notes | Release Manager | Ветка `release/vX.Y.Z` создаётся от `development`; номер версии обновляется в package.json, pyproject.toml и т.д. |
| **2. Проверка критериев** | Верификация всех security gates (раздел 3.1); приёмочные испытания (раздел 4) | Security + QA | Все критерии из раздела 3 должны быть подтверждены; результаты документированы |
| **3. Утверждение** | Security sign-off + QA sign-off; утверждение Release Manager | Security Lead + QA Lead + Release Manager | Все sign-off получены; решение о выпуске принято |
| **4. Сборка и подписание** | Release build из tagged commit; подписание артефактов; генерация checksums | CI/CD pipeline + Release Manager | Сборка выполняется из Git tag; артефакты подписываются (раздел 5.3) |
| **5. Публикация** | Публикация артефактов в registry; создание GitHub Release; обновление документации | Release Manager + DevOps | Артефакты публикуются в соответствии с документом 20 (безопасная доставка) |

### 5.2. Release build

| Параметр | Значение |
|----------|----------|
| Источник сборки | Git tag `vX.Y.Z` на ветке `main` |
| Среда сборки | [ЗАПОЛНИТЬ: CI/CD runner / dedicated build server] (по документу 12) |
| Воспроизводимость | [ЗАПОЛНИТЬ: reproducible build / best-effort reproducibility] |
| Артефакты | [ЗАПОЛНИТЬ: контейнерные образы, бинарные файлы, пакеты] |
| SBOM генерация | Автоматическая генерация CycloneDX SBOM при сборке |
| Provenance | [ЗАПОЛНИТЬ: SLSA provenance level / не генерируется] |

### 5.3. Подписание релизных артефактов

> Требование ГОСТ Р 56939-2024, п. 5.20.2 — подписать релиз.

| Тип артефакта | Метод подписания | Инструмент | Хранение ключей |
|---------------|-----------------|-----------|-----------------|
| **Контейнерные образы** | Keyless signing (Sigstore) или key-based signing | cosign | [ЗАПОЛНИТЬ: Sigstore Fulcio (keyless) / KMS / HSM] |
| **Git tags** | GPG-подпись тега | git tag -s | [ЗАПОЛНИТЬ: GPG key в secure storage / developer key] |
| **Бинарные артефакты** | GPG-подпись detached signature (.sig) | gpg --detach-sign | [ЗАПОЛНИТЬ: GPG release key / KMS] |
| **Пакеты (npm, PyPI)** | Провайдер-специфичная подпись | [ЗАПОЛНИТЬ: npm provenance / PyPI Trusted Publisher] | [ЗАПОЛНИТЬ] |
| **Checksums file** | GPG-подпись файла контрольных сумм | gpg --detach-sign | [ЗАПОЛНИТЬ: GPG release key] |

### 5.4. Генерация контрольных сумм

| Шаг | Действие | Описание |
|-----|----------|----------|
| 1 | Генерация SHA-256 для каждого артефакта | `sha256sum <artifact> >> SHA256SUMS` |
| 2 | Подпись файла контрольных сумм | `gpg --detach-sign SHA256SUMS` → `SHA256SUMS.sig` |
| 3 | Публикация checksums вместе с артефактами | SHA256SUMS и SHA256SUMS.sig прикрепляются к GitHub Release |
| 4 | Документирование в реестре выпусков | Контрольные суммы фиксируются в реестре (раздел 10) |

---

## 6. Роли и ответственности при выпуске

### 6.1. Роли

| Роль | Описание | Ответственный |
|------|----------|---------------|
| **Release Manager** | Координирует процесс выпуска; принимает решение о готовности; управляет артефактами | [ЗАПОЛНИТЬ: ФИО / должность] |
| **Security sign-off** | Подтверждает прохождение всех security gates; выдаёт заключение о безопасности | [ЗАПОЛНИТЬ: Security Lead / Security Engineer] |
| **QA sign-off** | Подтверждает прохождение функциональных и регрессионных тестов | [ЗАПОЛНИТЬ: QA Lead / QA Engineer] |
| **DevOps** | Выполняет release build, подписание артефактов, публикацию в registry | [ЗАПОЛНИТЬ: DevOps Engineer] |
| **Tech Lead** | Техническое утверждение; решение о scope и breaking changes | [ЗАПОЛНИТЬ: Tech Lead] |
| **Product Owner** | Утверждение бизнес-готовности; решение о дате выпуска | [ЗАПОЛНИТЬ: Product Owner] |

### 6.2. Матрица утверждений по типу релиза

| Утверждающий | Major | Minor | Patch | Hotfix |
|-------------|-------|-------|-------|--------|
| Release Manager | Обязательно | Обязательно | Обязательно | Обязательно |
| Security sign-off | Обязательно | Обязательно | Обязательно | Обязательно |
| QA sign-off | Обязательно | Обязательно | Обязательно | Обязательно (сокращённый) |
| Tech Lead | Обязательно | Обязательно | По необходимости | По необходимости |
| Product Owner | Обязательно | Обязательно | По необходимости | Уведомление |
| [ЗАПОЛНИТЬ: руководитель] | Обязательно | По необходимости | Не требуется | Уведомление |

### 6.3. Процедура получения sign-off

| Шаг | Действие | Описание |
|-----|----------|----------|
| 1 | Release Manager создаёт запрос на sign-off | [ЗАПОЛНИТЬ: тикет / email / форма] с указанием версии, scope, ссылок на отчёты |
| 2 | Security проверяет security gates и формирует заключение | Проверка по чеклисту раздела 3.1; результат: «Approved» / «Rejected — причины» |
| 3 | QA проверяет результаты тестирования и формирует заключение | Проверка по чеклисту раздела 4.1; результат: «Approved» / «Rejected — причины» |
| 4 | При «Rejected» — устранение замечаний и повторный запрос | Цикл повторяется до получения всех sign-off |
| 5 | Release Manager фиксирует все sign-off в реестре выпусков | Дата, ФИО утвердивших, ссылки на заключения |

---

## 7. Управление артефактами выпуска

### 7.1. Комплект артефактов выпуска

| Артефакт | Описание | Формат | Обязательность |
|----------|----------|--------|---------------|
| **Release артефакты** | Контейнерные образы, бинарные файлы, пакеты | [ЗАПОЛНИТЬ: Docker image, tar.gz, npm package] | Обязательно |
| **SBOM** | Перечень программных компонентов (CycloneDX) | CycloneDX JSON / XML | Обязательно |
| **Release notes** | Описание изменений: новая функциональность, исправления, breaking changes | Markdown | Обязательно |
| **Security advisory** | Описание устранённых уязвимостей (при наличии) | [ЗАПОЛНИТЬ: GitHub Security Advisory / CSAF / markdown] | При наличии устранённых CVE |
| **Цифровые подписи** | Подписи артефактов (cosign, GPG) | .sig / Sigstore bundle | Обязательно |
| **Контрольные суммы** | SHA-256 хеши всех артефактов | SHA256SUMS + SHA256SUMS.sig | Обязательно |
| **Протокол приёмки** | Результаты приёмочных испытаний (раздел 4) | [ЗАПОЛНИТЬ: PDF / Confluence] | Обязательно |
| **SLSA Provenance** | Attestation с информацией о сборке | in-toto / SLSA predicate | [ЗАПОЛНИТЬ: обязательно / по возможности] |

### 7.2. Release notes — структура

| Раздел | Описание |
|--------|----------|
| **Версия и дата** | Номер версии (SemVer), дата выпуска |
| **Краткое описание** | Обзор основных изменений в 1–3 предложениях |
| **Новая функциональность (Added)** | Перечень новых возможностей |
| **Изменения (Changed)** | Перечень изменений в существующей функциональности |
| **Исправления (Fixed)** | Перечень исправленных ошибок |
| **Безопасность (Security)** | Перечень устранённых уязвимостей (CVE ID, severity, описание) |
| **Удалено (Removed)** | Перечень удалённой функциональности |
| **Breaking changes** | Перечень несовместимых изменений с инструкциями по миграции |
| **Известные ограничения** | Известные проблемы и обходные пути |

### 7.3. Хранение артефактов

| Параметр | Значение |
|----------|----------|
| Container registry | [ЗАПОЛНИТЬ: Docker Hub / GitHub Container Registry / private registry] |
| Package registry | [ЗАПОЛНИТЬ: npm registry / PyPI / private Artifactory] |
| Release artifacts | [ЗАПОЛНИТЬ: GitHub Releases / S3 / internal storage] |
| SBOM | [ЗАПОЛНИТЬ: вместе с release artifacts / Dependency-Track / отдельное хранилище] |
| Срок хранения | [ЗАПОЛНИТЬ: не менее 3 лет / срок действия сертификата + 1 год / бессрочно] |
| Резервное копирование | [ЗАПОЛНИТЬ: описание стратегии backup] |

---

## 8. Выпуск срочных исправлений безопасности

### 8.1. Критерии hotfix-релиза

| Критерий | Описание |
|----------|----------|
| **Активная эксплуатация** | Уязвимость активно эксплуатируется (0-day, known exploit in the wild) |
| **Critical/High severity** | CVSS ≥ 7.0 или Critical по внутренней классификации |
| **Широкое воздействие** | Уязвимость затрагивает всех или большинство пользователей продукта |
| **Отсутствие workaround** | Нет эффективного обходного пути для пользователей |
| **Внешний disclosure** | Уязвимость опубликована третьей стороной; тикает disclosure timeline |

### 8.2. Ускоренная процедура выпуска hotfix

| Шаг | Действие | Срок | Ответственный |
|-----|----------|------|---------------|
| 1 | Security объявляет hotfix-режим; создаёт hotfix branch от последнего release tag | Немедленно | Security Lead |
| 2 | Разработчик реализует исправление; code review (минимум 1 reviewer с security-компетенцией) | [ЗАПОЛНИТЬ: ≤ 4 часа] | Разработчик + Security reviewer |
| 3 | Автоматические проверки: SAST, SCA, secret scanning, unit tests | Автоматически | CI/CD pipeline |
| 4 | Сокращённые функциональные тесты (focused на область исправления) | [ЗАПОЛНИТЬ: ≤ 2 часа] | QA |
| 5 | Security sign-off (сокращённый) | [ЗАПОЛНИТЬ: ≤ 1 час] | Security Lead |
| 6 | Release build, подписание, публикация | [ЗАПОЛНИТЬ: ≤ 1 час] | DevOps + Release Manager |
| 7 | Уведомление пользователей; security advisory | Одновременно с публикацией | Release Manager + Security |

### 8.3. Сокращённые критерии для hotfix

| Security gate | Требование для hotfix |
|--------------|----------------------|
| SAST | Обязательно (автоматически в CI/CD) |
| DAST | По решению Security (может быть отложен до следующего patch) |
| SCA | Обязательно (автоматически в CI/CD) |
| Code Review | Обязательно (минимум 1 security-reviewer) |
| Функц. тесты | Сокращённый набор (область исправления + smoke tests) |
| Пентест | Не требуется (включается в scope следующего планового пентеста) |
| Фаззинг | Не требуется |
| Secret scanning | Обязательно (автоматически) |
| SBOM | Обновление существующего SBOM |
| 0 Critical дефектов | Обязательно (для области hotfix) |

---

## 9. Откат при обнаружении проблем безопасности

### 9.1. Критерии отката (rollback)

| Критерий | Описание | Приоритет |
|----------|----------|-----------|
| **Critical vulnerability** | Обнаружена Critical уязвимость в выпущенной версии, отсутствовавшая в предыдущей | P0 — немедленный откат |
| **Data breach risk** | Выпущенная версия создаёт риск утечки данных | P0 — немедленный откат |
| **Регрессия безопасности** | Выпущенная версия ломает ранее работающий механизм безопасности | P0 — немедленный откат |
| **High vulnerability** | Обнаружена High уязвимость без эффективного workaround | P1 — откат или hotfix в течение [ЗАПОЛНИТЬ: 24 часов] |
| **Нарушение целостности** | Подтверждено нарушение целостности артефактов (несовпадение checksums, невалидная подпись) | P0 — немедленный откат |
| **Функциональная регрессия** | Критическая функциональность недоступна; нет workaround | P1 — откат или hotfix |

### 9.2. Процедура отката

| Шаг | Действие | Ответственный | Срок |
|-----|----------|---------------|------|
| 1 | Принятие решения об откате (Security Lead + Release Manager) | Security Lead | Немедленно при P0; [ЗАПОЛНИТЬ: ≤ 2 часа] при P1 |
| 2 | Определение target-версии для отката (последняя известная безопасная версия) | Release Manager + DevOps | Одновременно с шагом 1 |
| 3 | Выполнение rollback в production (revert deployment к предыдущей версии) | DevOps | [ЗАПОЛНИТЬ: ≤ 30 минут] |
| 4 | Верификация работоспособности после отката (smoke tests) | QA + DevOps | [ЗАПОЛНИТЬ: ≤ 30 минут] |
| 5 | Уведомление пользователей об откате | Release Manager | Одновременно с шагом 3 |
| 6 | Блокировка скомпрометированной версии в registry (deprecation / yanking) | DevOps | [ЗАПОЛНИТЬ: ≤ 1 час] |
| 7 | Root cause analysis | Security + разработчик | [ЗАПОЛНИТЬ: ≤ 3 рабочих дня] |
| 8 | Подготовка и выпуск исправленной версии (по процедуре hotfix, раздел 8) | Команда | По результатам RCA |
| 9 | Регистрация инцидента в реестре недостатков (документ 04) | Security | Одновременно с шагом 2 |

### 9.3. Коммуникация при откате

| Канал | Аудитория | Содержание | Срок |
|-------|-----------|-----------|------|
| [ЗАПОЛНИТЬ: email / Telegram / Slack] | Внутренняя команда | Факт отката, причина, target-версия, план действий | Немедленно |
| [ЗАПОЛНИТЬ: email / портал / advisory] | Пользователи / заказчики | Факт отката, рекомендации, ETA исправления | [ЗАПОЛНИТЬ: ≤ 1 час после отката] |
| [ЗАПОЛНИТЬ: security advisory] | Публично (при необходимости) | CVE ID, severity, affected versions, workaround, fixed version | По результатам RCA |
| Реестр выпусков (раздел 10) | Внутренняя документация | Запись о rollback с причинами и ссылками | [ЗАПОЛНИТЬ: ≤ 24 часа] |

---

## 10. Реестр выпусков

### 10.1. Формат реестра

| ID | Версия | Тип | Дата выпуска | Security sign-off | QA sign-off | Release Manager | Артефакты | Checksums | Статус | Примечания |
|----|--------|-----|-------------|-------------------|-------------|-----------------|-----------|-----------|--------|------------|
| REL-001 | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ: Major] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ: ФИО, дата] | [ЗАПОЛНИТЬ: ФИО, дата] | [ЗАПОЛНИТЬ: ФИО] | [ЗАПОЛНИТЬ: ссылки на артефакты] | [ЗАПОЛНИТЬ: SHA-256] | [ЗАПОЛНИТЬ: Released / Rolled back] | [ЗАПОЛНИТЬ] |
| REL-002 | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ: Minor] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |
| REL-003 | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ: Patch] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |
| REL-004 | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ: Hotfix] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 10.2. Статусы выпуска

| Статус | Описание |
|--------|----------|
| **Preparing** | Версия в процессе подготовки; security gates проходятся |
| **Approved** | Все sign-off получены; ожидает публикации |
| **Released** | Версия опубликована и доступна пользователям |
| **Rolled back** | Версия отозвана; выполнен откат к предыдущей версии |
| **Deprecated** | Версия устарела; пользователям рекомендовано обновление |
| **EOL** | Версия снята с поддержки (End of Life) |

### 10.3. Хранение реестра

| Параметр | Значение |
|----------|----------|
| Место хранения | [ЗАПОЛНИТЬ: Confluence / внутренняя wiki / Git-репозиторий] |
| Доступ | [ЗАПОЛНИТЬ: Release Manager, Security, QA — read/write; разработчики — read] |
| Срок хранения | [ЗАПОЛНИТЬ: не менее 3 лет / срок действия сертификата + 1 год] |
| Резервное копирование | [ЗАПОЛНИТЬ: стратегия backup] |

---

## 11. История изменений

| Версия | Дата | Описание изменений | Автор |
|--------|------|--------------------|-------|
| 1.0 | [ЗАПОЛНИТЬ: дата] | Первая версия документа | [ЗАПОЛНИТЬ: ФИО] |
