# Регламент управления недостатками и изменениями

| | |
|---|---|
| **Продукт** | [ЗАПОЛНИТЬ: наименование СЗИ] |
| **Версия документа** | 1.0 |
| **Дата** | [ЗАПОЛНИТЬ: дата утверждения] |
| **Статус** | Проект |
| **Утверждено** | [ЗАПОЛНИТЬ: должность, ФИО руководителя] |
| **Процесс ГОСТ Р 56939-2024** | 5.5 — Управление недостатками и запросами на изменение ПО |

---

## Содержание

1. [Общие сведения](#1-общие-сведения)
2. [Область применения](#2-область-применения)
3. [Классификация недостатков](#3-классификация-недостатков)
4. [Порядок регистрации недостатков](#4-порядок-регистрации-недостатков)
5. [Жизненный цикл недостатка](#5-жизненный-цикл-недостатка)
6. [Порядок обработки запросов на изменение](#6-порядок-обработки-запросов-на-изменение)
7. [Приоритизация и SLA](#7-приоритизация-и-sla)
8. [Контроль исполнения](#8-контроль-исполнения)
9. [Маркировка версий](#9-маркировка-версий)
10. [Журнал недостатков и изменений](#10-журнал-недостатков-и-изменений)
11. [История изменений](#11-история-изменений)

---

## 1. Общие сведения

### 1.1. Назначение документа

Настоящий Регламент определяет порядок:

- Регистрации, классификации и обработки недостатков (дефектов, ошибок, уязвимостей) в продукте [ЗАПОЛНИТЬ: наименование СЗИ].
- Управления запросами на изменение ПО.
- Контроля реализации изменений.
- Маркировки версий, обеспечивающей уникальную идентификацию каждой сборки.

Регламент разработан в соответствии с требованиями ГОСТ Р 56939-2024, п. 5.5.

### 1.2. Нормативные ссылки

| Документ | Описание |
|----------|----------|
| ГОСТ Р 56939-2024, п. 5.5 | Управление недостатками и запросами на изменение ПО |
| ГОСТ Р 56939-2024, п. 5.4 | Управление конфигурацией ПО |
| ГОСТ Р 56939-2024, п. 5.23 | Реагирование на информацию об уязвимостях |
| ГОСТ Р 56939-2024, п. 5.24 | Поиск уязвимостей |
| CWE (Common Weakness Enumeration) | Классификация программных недостатков |
| CVE (Common Vulnerabilities and Exposures) | Идентификация известных уязвимостей |
| CVSS v3.1/v4.0 | Система оценки критичности уязвимостей |

---

## 2. Область применения

Настоящий Регламент распространяется на:

- Все обнаруженные недостатки продукта [ЗАПОЛНИТЬ: наименование СЗИ] — дефекты, ошибки, уязвимости.
- Запросы на изменение функциональности.
- Запросы на улучшение безопасности.
- Все этапы жизненного цикла: от разработки до вывода из эксплуатации.

**Источники обнаружения недостатков:**

- Результаты статического анализа (SAST) — процесс 5.10.
- Результаты динамического анализа (DAST) — процесс 5.11.
- Результаты экспертизы кода (code review) — процесс 5.9.
- Результаты функционального тестирования — процесс 5.18.
- Результаты нефункционального тестирования (пентест, фаззинг) — процесс 5.19.
- Результаты композиционного анализа (SCA) — процесс 5.16.
- Самостоятельный поиск уязвимостей — процесс 5.24.
- Информация от пользователей и внешних исследователей — процесс 5.23.
- Результаты внутренних аудитов.

---

## 3. Классификация недостатков

### 3.1. По типу

| Тип | Описание | Примеры |
|-----|----------|---------|
| **Уязвимость (vulnerability)** | Недостаток, позволяющий нарушить безопасность ПО | SQL injection, XSS, переполнение буфера, SSRF |
| **Дефект (bug)** | Ошибка, нарушающая функциональность | Неверная логика обработки, падение приложения, утечка памяти |
| **Несоответствие (non-compliance)** | Отклонение от стандартов или требований | Нарушение стандарта кодирования, отсутствие валидации |
| **Задолженность (tech debt)** | Архитектурные или кодовые проблемы | Устаревшие зависимости, дублирование кода |

### 3.2. По критичности (Severity)

> Для уязвимостей используется оценка CVSS v3.1/v4.0. Для остальных типов — следующая шкала:

| Severity | CVSS Score | Описание |
|----------|-----------|----------|
| **Critical** | 9.0–10.0 | Критическая уязвимость, позволяющая удалённое выполнение кода, полную компрометацию системы или утечку чувствительных данных без аутентификации |
| **High** | 7.0–8.9 | Серьёзная уязвимость или дефект, существенно влияющий на безопасность или основную функциональность |
| **Medium** | 4.0–6.9 | Умеренная уязвимость или дефект с ограниченным воздействием |
| **Low** | 0.1–3.9 | Незначительный недостаток с минимальным воздействием |
| **Info** | 0.0 | Информационное замечание, рекомендация по улучшению |

### 3.3. По приоритету (Priority)

| Priority | Описание | Критерии |
|----------|----------|----------|
| **P1 — Blocker** | Необходимо немедленное исправление | Critical severity, активная эксплуатация, блокирует релиз |
| **P2 — High** | Исправить в ближайшем спринте/итерации | High severity, влияет на пользователей |
| **P3 — Medium** | Запланировать исправление | Medium severity, есть обходное решение |
| **P4 — Low** | Исправить при возможности | Low severity, косметические недостатки |

---

## 4. Порядок регистрации недостатков

### 4.1. Система регистрации

| Параметр | Значение |
|----------|----------|
| Система трекинга | [ЗАПОЛНИТЬ: Jira / GitLab Issues / GitHub Issues] |
| URL | [ЗАПОЛНИТЬ: URL трекера] |
| Проект | [ЗАПОЛНИТЬ: идентификатор проекта] |

### 4.2. Обязательные поля при регистрации

| Поле | Описание | Обязательность |
|------|----------|----------------|
| **Заголовок** | Краткое описание недостатка | Обязательно |
| **Тип** | vulnerability / bug / non-compliance / tech-debt | Обязательно |
| **Severity** | Critical / High / Medium / Low / Info | Обязательно |
| **Priority** | P1 / P2 / P3 / P4 | Обязательно |
| **Описание** | Подробное описание недостатка | Обязательно |
| **Шаги воспроизведения** | Для дефектов и уязвимостей | Обязательно (для bug, vulnerability) |
| **Ожидаемое поведение** | Как должна работать система | Обязательно (для bug) |
| **Фактическое поведение** | Как система работает сейчас | Обязательно (для bug) |
| **Компонент** | Затронутый модуль/компонент | Обязательно |
| **Версия** | Версия, в которой обнаружен недостаток | Обязательно |
| **Источник обнаружения** | SAST / DAST / Code review / Testing / SCA / User report / Internal | Обязательно |
| **CWE ID** | Классификатор CWE (для уязвимостей) | Обязательно (для vulnerability) |
| **CVE ID** | Если есть связанный CVE (для уязвимостей в зависимостях) | При наличии |
| **CVSS Score** | Оценка по CVSS v3.1/v4.0 (для уязвимостей) | Обязательно (для vulnerability) |
| **Исполнитель** | Ответственный за исправление | Назначается при триаже |
| **Метки** | Дополнительная категоризация (security, performance, UX) | Рекомендуется |

### 4.3. Кто может регистрировать

- Любой сотрудник, участвующий в разработке продукта.
- Инструменты автоматического анализа (SAST, DAST, SCA) — через интеграцию с трекером.
- Внешние пользователи — через [ЗАПОЛНИТЬ: канал приёма обращений (email, форма, bug bounty)].

---

## 5. Жизненный цикл недостатка

### 5.1. Статусная модель

```
     ┌───────────┐
     │   New      │  ← Создан (автоматически или вручную)
     └─────┬─────┘
           │
     ┌─────▼─────┐
     │  Triaged   │  ← Подтверждён, назначены severity, priority, исполнитель
     └─────┬─────┘
           │
     ┌─────▼─────┐     ┌─────────────┐
     │ In Progress│────►│  On Review   │  ← Исправление на code review
     └─────┬─────┘     └──────┬──────┘
           │                   │
           │             ┌─────▼─────┐
           │             │  Testing   │  ← Проверка исправления
           │             └─────┬─────┘
           │                   │
           │  ┌────────────────┼────────────────┐
           │  │                │                 │
     ┌─────▼──▼──┐     ┌──────▼──────┐   ┌─────▼─────┐
     │  Reopened  │     │  Resolved    │   │ Won't Fix  │
     └───────────┘     └──────┬──────┘   └───────────┘
                              │
                        ┌─────▼─────┐
                        │   Closed   │  ← Подтверждено в релизе
                        └───────────┘
```

### 5.2. Описание статусов

| Статус | Описание | Кто переводит |
|--------|----------|---------------|
| **New** | Недостаток зарегистрирован, ожидает триажа | Автор / Система |
| **Triaged** | Подтверждён, назначены severity, priority и исполнитель | [ЗАПОЛНИТЬ: инженер по безопасности / тимлид] |
| **In Progress** | Исполнитель работает над исправлением | Исполнитель |
| **On Review** | Исправление подготовлено, ожидает code review | Исполнитель |
| **Testing** | Исправление прошло review, ожидает проверки | Тестировщик / Инженер по безопасности |
| **Resolved** | Исправление подтверждено, включено в ветку `development` | Тестировщик / Инженер по безопасности |
| **Closed** | Исправление выпущено в релизе | Менеджер релиза |
| **Reopened** | Недостаток воспроизводится после исправления | Тестировщик |
| **Won't Fix** | Принято решение не исправлять (с обоснованием) | [ЗАПОЛНИТЬ: руководитель РБПО] |

### 5.3. Правила переходов

1. Переход из **New** в **Triaged** — только после подтверждения и классификации.
2. Переход в **Won't Fix** — только с обоснованием и утверждением [ЗАПОЛНИТЬ: роль]. Для уязвимостей Critical и High — требуется утверждение руководителя РБПО.
3. Переход в **Resolved** — только после прохождения code review и тестирования.
4. Переход в **Closed** — только после включения исправления в релизную версию.

---

## 6. Порядок обработки запросов на изменение

### 6.1. Типы запросов на изменение

| Тип | Описание | Примеры |
|-----|----------|---------|
| **Новая функциональность** | Добавление новой возможности | Новый API endpoint, новый UI-компонент |
| **Улучшение** | Доработка существующей функциональности | Оптимизация, улучшение UX |
| **Изменение безопасности** | Усиление мер безопасности | Добавление CSP, ужесточение валидации |
| **Инфраструктурное изменение** | Изменения в среде разработки/сборки | Обновление CI/CD, миграция БД |

### 6.2. Процедура обработки

```
1. Регистрация запроса в трекере
   │
2. Триаж — оценка scope, risks, effort
   │
3. Анализ влияния на безопасность
   │  ├── Затрагивает поверхность атаки? → Обновить модель угроз (5.7)
   │  ├── Затрагивает требования безопасности? → Обновить спецификацию (5.3)
   │  └── Затрагивает архитектуру? → Обновить документацию (5.6)
   │
4. Приоритизация и включение в план итерации
   │
5. Реализация (feature branch → PR → review → merge)
   │
6. Верификация (тестирование, SAST/DAST)
   │
7. Закрытие запроса
```

### 6.3. Анализ влияния изменения

Для каждого запроса на изменение оценивается:

| Аспект | Вопрос | Действие |
|--------|--------|----------|
| Безопасность | Изменение влияет на поверхность атаки или модель угроз? | Привлечь инженера по безопасности |
| Совместимость | Изменение нарушает обратную совместимость API? | Инкремент MAJOR версии |
| Зависимости | Изменение добавляет/обновляет зависимости? | SCA-анализ |
| Конфигурация | Изменение требует модификации конфигурации? | Обновить документацию и конфигурацию |
| Тестирование | Требуются новые тест-кейсы? | Разработать до или параллельно с реализацией |

---

## 7. Приоритизация и SLA

### 7.1. SLA по устранению уязвимостей

> Требование ГОСТ Р 56939-2024, п. 5.5.2 — установить приоритеты и сроки устранения.

| Severity | Начало работы | Исправление | Выпуск обновления |
|----------|--------------|-------------|-------------------|
| **Critical** | [ЗАПОЛНИТЬ: ≤ 4 часа] | [ЗАПОЛНИТЬ: ≤ 24 часа] | [ЗАПОЛНИТЬ: ≤ 48 часов (hotfix)] |
| **High** | [ЗАПОЛНИТЬ: ≤ 1 рабочий день] | [ЗАПОЛНИТЬ: ≤ 5 рабочих дней] | [ЗАПОЛНИТЬ: ≤ 10 рабочих дней] |
| **Medium** | [ЗАПОЛНИТЬ: ≤ 3 рабочих дня] | [ЗАПОЛНИТЬ: ≤ 15 рабочих дней] | Ближайший плановый релиз |
| **Low** | [ЗАПОЛНИТЬ: ≤ 5 рабочих дней] | [ЗАПОЛНИТЬ: ≤ 30 рабочих дней] | Ближайший плановый релиз |

### 7.2. SLA по дефектам (не уязвимости)

| Priority | Начало работы | Исправление |
|----------|--------------|-------------|
| **P1 — Blocker** | [ЗАПОЛНИТЬ: ≤ 4 часа] | [ЗАПОЛНИТЬ: ≤ 24 часа] |
| **P2 — High** | [ЗАПОЛНИТЬ: ≤ 1 рабочий день] | [ЗАПОЛНИТЬ: текущий спринт] |
| **P3 — Medium** | [ЗАПОЛНИТЬ: ≤ 3 рабочих дня] | [ЗАПОЛНИТЬ: ≤ 2 спринта] |
| **P4 — Low** | [ЗАПОЛНИТЬ: при планировании] | [ЗАПОЛНИТЬ: бэклог] |

### 7.3. Эскалация

| Условие | Действие | Кому эскалируется |
|---------|----------|-------------------|
| SLA по Critical уязвимости нарушен | Немедленная эскалация | [ЗАПОЛНИТЬ: руководитель РБПО → руководитель разработки] |
| SLA по High уязвимости нарушен | Эскалация на следующий рабочий день | [ЗАПОЛНИТЬ: руководитель РБПО] |
| Недостаток переоткрыт (Reopened) более 2 раз | Привлечение архитектора | [ЗАПОЛНИТЬ: архитектор безопасности] |
| Накоплено более [ЗАПОЛНИТЬ: N] открытых уязвимостей | Пересмотр приоритетов | [ЗАПОЛНИТЬ: руководитель РБПО] |

---

## 8. Контроль исполнения

### 8.1. Регулярный мониторинг

| Мероприятие | Периодичность | Ответственный |
|-------------|---------------|---------------|
| Триаж новых недостатков | [ЗАПОЛНИТЬ: ежедневно / 3 раза в неделю] | [ЗАПОЛНИТЬ] |
| Обзор открытых уязвимостей | [ЗАПОЛНИТЬ: еженедельно] | [ЗАПОЛНИТЬ] |
| Отчёт по метрикам безопасности | [ЗАПОЛНИТЬ: ежемесячно] | [ЗАПОЛНИТЬ] |
| Ретроспектива по инцидентам | [ЗАПОЛНИТЬ: после каждого Critical/High инцидента] | [ЗАПОЛНИТЬ] |

### 8.2. Метрики

| Метрика | Описание | Целевое значение |
|---------|----------|------------------|
| **Mean Time to Detect (MTTD)** | Среднее время обнаружения уязвимости | [ЗАПОЛНИТЬ] |
| **Mean Time to Remediate (MTTR)** | Среднее время устранения уязвимости | [ЗАПОЛНИТЬ] |
| **Open Vulnerability Count** | Количество открытых уязвимостей (по severity) | Critical: 0, High: ≤ [ЗАПОЛНИТЬ] |
| **SLA Compliance** | Процент уязвимостей, устранённых в срок | ≥ [ЗАПОЛНИТЬ: 95%] |
| **Reopen Rate** | Процент переоткрытых недостатков | ≤ [ЗАПОЛНИТЬ: 5%] |
| **Defect Density** | Количество дефектов на 1000 строк кода | [ЗАПОЛНИТЬ] |

### 8.3. Отчётность

Отчёты по управлению недостатками формируются:

1. **Еженедельно** — сводка по открытым/закрытым недостаткам, нарушениям SLA.
2. **Перед релизом** — полный отчёт об устранённых и открытых недостатках в релизе.
3. **По запросу** — для внутренних аудитов и сертификации.

---

## 9. Маркировка версий

> Требование ГОСТ Р 56939-2024, п. 5.5.2 — обеспечить уникальную идентификацию каждой версии/сборки.

### 9.1. Семантическое версионирование

Продукт использует Semantic Versioning 2.0.0 (подробнее см. Регламент управления конфигурациями, раздел 5).

| Тип изменения | Компонент версии | Пример |
|---------------|-----------------|--------|
| Исправление уязвимости | PATCH | 1.2.3 → 1.2.4 |
| Новая функциональность | MINOR | 1.2.3 → 1.3.0 |
| Обратно несовместимое изменение | MAJOR | 1.2.3 → 2.0.0 |
| Hotfix (критическая уязвимость) | PATCH | 1.2.3 → 1.2.4 (внеплановый) |

### 9.2. Связь версий с недостатками

Каждый релиз содержит:

1. **Перечень устранённых недостатков** — список тикетов, закрытых в данной версии.
2. **Перечень известных недостатков** — открытые недостатки, не устранённые в данной версии.
3. **Security advisory** — отдельное уведомление при исправлении уязвимостей Critical и High.

### 9.3. Changelog

Записи о недостатках фиксируются в `CHANGELOG.md`:

```markdown
## [1.2.4] - 2024-XX-XX

### Security
- Исправлена уязвимость [CWE-XXX] в модуле авторизации (#123)

### Fixed
- Исправлена ошибка обработки пустого ввода (#124)
```

---

## 10. Журнал недостатков и изменений

### 10.1. Ведение журнала

> Требование ГОСТ Р 56939-2024, п. 5.5.2 — вести журнал изменений.

Журнал недостатков ведётся в системе [ЗАПОЛНИТЬ: Jira / GitLab Issues / GitHub Issues] и содержит полную историю каждого недостатка от регистрации до закрытия.

Дополнительно формируется сводный реестр в формате:

| ID | Заголовок | Тип | Severity | Priority | CWE | Статус | Версия обнаружения | Версия исправления | Исполнитель | Дата создания | Дата закрытия |
|----|-----------|-----|----------|----------|-----|--------|-------------------|--------------------|-------------|---------------|---------------|
| [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] | [ЗАПОЛНИТЬ] |

### 10.2. Хранение и доступ

| Параметр | Значение |
|----------|----------|
| Срок хранения | [ЗАПОЛНИТЬ: не менее 5 лет / срок действия сертификата + 1 год] |
| Доступ | [ЗАПОЛНИТЬ: ограниченный круг лиц] |
| Резервное копирование | [ЗАПОЛНИТЬ: периодичность и способ] |

---

## 11. История изменений

| Версия | Дата | Описание изменений | Автор |
|--------|------|--------------------|-------|
| 1.0 | [ЗАПОЛНИТЬ: дата] | Первая версия документа | [ЗАПОЛНИТЬ: ФИО] |
